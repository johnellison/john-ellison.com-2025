/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/assessments/route";
exports.ids = ["app/api/assessments/route"];
exports.modules = {

/***/ "(rsc)/./app/api/assessments/route.ts":
/*!**************************************!*\
  !*** ./app/api/assessments/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n/* harmony import */ var _lib_scoring__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/scoring */ \"(rsc)/./lib/scoring.ts\");\n/* harmony import */ var resend__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! resend */ \"(rsc)/./node_modules/resend/dist/index.mjs\");\n\n\n\n\nconst resendApiKey = process.env.RESEND_API_KEY || '';\nconst resend = resendApiKey ? new resend__WEBPACK_IMPORTED_MODULE_3__.Resend(resendApiKey) : null;\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { companyData, answers, companyInsights } = body;\n        if (!companyData || !answers) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Missing required fields'\n            }, {\n                status: 400\n            });\n        }\n        if (!companyData.name || !companyData.website || !companyData.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Company name, website, and email are required'\n            }, {\n                status: 400\n            });\n        }\n        if (typeof answers !== 'object' || Array.isArray(answers)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid answers payload'\n            }, {\n                status: 400\n            });\n        }\n        const dimensionScores = [\n            {\n                dimension: 'Leadership & Strategy',\n                score: (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateDimensionScore)(answers, Object.keys(answers).filter((k)=>k.startsWith('l'))),\n                weight: 0.2\n            },\n            {\n                dimension: 'Data Readiness',\n                score: (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateDimensionScore)(answers, Object.keys(answers).filter((k)=>k.startsWith('d'))),\n                weight: 0.25\n            },\n            {\n                dimension: 'Technology Infrastructure',\n                score: (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateDimensionScore)(answers, Object.keys(answers).filter((k)=>k.startsWith('t'))),\n                weight: 0.15\n            },\n            {\n                dimension: 'Talent & Capability',\n                score: (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateDimensionScore)(answers, Object.keys(answers).filter((k)=>k.startsWith('ta'))),\n                weight: 0.15\n            },\n            {\n                dimension: 'Governance & Responsible AI',\n                score: (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateDimensionScore)(answers, Object.keys(answers).filter((k)=>k.startsWith('g'))),\n                weight: 0.1\n            },\n            {\n                dimension: 'Culture & Change Readiness',\n                score: (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateDimensionScore)(answers, Object.keys(answers).filter((k)=>k.startsWith('c'))),\n                weight: 0.15\n            }\n        ];\n        const overallScore = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateOverallScore)(dimensionScores);\n        const readiness = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.getReadinessLevel)(overallScore);\n        const blockers = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.identifyBlockers)(dimensionScores);\n        const recommendations = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.generateRecommendations)(overallScore, dimensionScores);\n        // New Calculations for Archetypes\n        const axisScores = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.calculateAxisScores)(dimensionScores);\n        const archetype = (0,_lib_scoring__WEBPACK_IMPORTED_MODULE_2__.determineArchetype)(axisScores);\n        const assessmentData = {\n            company_name: companyData.name,\n            website: companyData.website,\n            linkedin: companyData.linkedin || '',\n            email: companyData.email,\n            dimension_scores: dimensionScores.reduce((acc, dim)=>({\n                    ...acc,\n                    [dim.dimension]: dim.score\n                }), {}),\n            overall_score: overallScore,\n            readiness_level: readiness.level,\n            blockers,\n            recommendations,\n            company_insights: companyInsights || null,\n            archetype,\n            axis_scores: axisScores\n        };\n        const { success, data } = await (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_1__.saveAssessment)(assessmentData);\n        if (!success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to save assessment'\n            }, {\n                status: 500\n            });\n        }\n        // Send email in background (don't block response)\n        sendAssessmentEmail(companyData.email, {\n            overallScore,\n            readiness,\n            dimensionScores,\n            blockers,\n            recommendations,\n            archetype\n        }).catch((err)=>console.error('Background email error:', err));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            assessmentId: data?.[0]?.id,\n            report: {\n                overallScore,\n                readiness,\n                dimensionScores,\n                blockers,\n                recommendations,\n                archetype,\n                axisScores,\n                companyData\n            }\n        });\n    } catch (error) {\n        console.error('Assessment submission error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function sendAssessmentEmail(email, report) {\n    try {\n        if (!resend) {\n            console.warn('RESEND_API_KEY is not configured. Skipping email delivery.');\n            return;\n        }\n        const { data, error } = await resend.emails.send({\n            from: 'John Ellison <no-reply@updates.john-ellison.com>',\n            to: email,\n            cc: 'john@john-ellison.com',\n            subject: 'Your AI Readiness Assessment Report',\n            html: generateEmailContent(report)\n        });\n        if (error) {\n            console.error('Email send error:', error);\n        }\n    } catch (err) {\n        console.error('Exception sending email:', err);\n    }\n}\nfunction generateEmailContent(report) {\n    return `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <style>\n          body { font-family: 'Inter', sans-serif; background: #0c0c10; color: #fff; margin: 0; padding: 40px 20px; }\n          .container { max-width: 800px; margin: 0 auto; }\n          .header { text-align: center; margin-bottom: 40px; }\n          .score-display { background: linear-gradient(135deg, #7c3aed, #3b82f6); padding: 30px; border-radius: 12px; margin: 30px 0; }\n          .score-value { font-size: 72px; font-weight: 700; color: #fff; }\n          .score-label { font-size: 18px; opacity: 0.9; }\n          .section { margin: 30px 0; padding: 24px; background: rgba(255,255,255,0.05); border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); }\n          .section-title { font-size: 24px; font-weight: 600; margin-bottom: 20px; }\n          .dimension { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.1); }\n          .dimension-name { font-size: 16px; }\n          .dimension-score { font-size: 32px; font-weight: 700; }\n          .blocker { background: rgba(239, 68, 68, 0.1); padding: 16px; border-radius: 8px; margin: 12px 0; border-left: 3px solid #ef4444; }\n          .blocker-title { font-weight: 600; margin-bottom: 8px; }\n          .recommendation { background: rgba(34, 197, 94, 0.1); padding: 20px; border-radius: 12px; margin: 20px 0; border-left: 3px solid #22c55e; }\n          .cta { text-align: center; margin: 40px 0; }\n          .btn { display: inline-block; background: #7c3aed; color: #fff; padding: 16px 32px; border-radius: 8px; text-decoration: none; font-weight: 600; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <h1>Your AI Readiness Assessment</h1>\n            <p>Here's your personalized report based on the 40 questions you completed.</p>\n          </div>\n\n          <div class=\"score-display\">\n            <div class=\"score-value\">${report.overallScore}/100</div>\n            <div class=\"score-label\">${report.readiness.level}</div>\n          </div>\n\n          <div class=\"section\">\n            <div class=\"section-title\">Dimension Scores</div>\n            ${report.dimensionScores.map((dim)=>`\n              <div class=\"dimension\">\n                <span class=\"dimension-name\">${dim.dimension}</span>\n                <span class=\"dimension-score\">${dim.score}/100</span>\n              </div>\n            `).join('')}\n          </div>\n\n          <div class=\"section\">\n            <div class=\"section-title\">Top Blockers</div>\n            ${report.blockers.map((blocker)=>`\n              <div class=\"blocker\">\n                <div class=\"blocker-title\">${blocker.dimension}: ${blocker.issue}</div>\n                <p><strong>Impact:</strong> ${blocker.impact}</p>\n                <p><strong>Cost to Fix:</strong> ${blocker.costRange}</p>\n                <p><strong>Timeline:</strong> ${blocker.timeline}</p>\n              </div>\n            `).join('')}\n          </div>\n\n          <div class=\"section\">\n            <div class=\"section-title\">Recommendations</div>\n            ${report.recommendations.map((rec)=>`\n              <div style=\"margin: 20px 0;\">\n                <h3 style=\"font-size: 18px; font-weight: 600; margin-bottom: 12px;\">${rec.phase}: ${rec.title}</h3>\n                <p style=\"margin-bottom: 16px;\">${rec.description}</p>\n                <ul>\n                  ${rec.actions.map((action)=>`<li style=\"padding: 8px 0;\">â€¢ ${action}</li>`).join('')}\n                </ul>\n                <p style=\"font-size: 14px; opacity: 0.8;\">Timeframe: ${rec.timeframe}</p>\n              </div>\n            `).join('')}\n          </div>\n\n          <div class=\"cta\">\n            <a href=\"https://john-ellison.com/contact\" class=\"btn\">Schedule Strategy Call</a>\n            <p style=\"margin-top: 16px; opacity: 0.7; font-size: 14px;\">\n              Let's discuss your results and build your transformation roadmap.\n            </p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDOzhDQUN2QixFQUFFSCxRQUFRSSxRQUFRLENBQUM7O1lBRXJELENBQUMsRUFBRUwsSUFBSSxDQUFDLElBQUk7Ozs7O1lBS1osRUFBRVgsT0FBT3ZCLGVBQWUsQ0FBQ2lDLEdBQUcsQ0FBQyxDQUFDTyxNQUFhLENBQUM7O29GQUU0QixFQUFFQSxJQUFJQyxLQUFLLENBQUMsRUFBRSxFQUFFRCxJQUFJRSxLQUFLLENBQUM7Z0RBQzlELEVBQUVGLElBQUlHLFdBQVcsQ0FBQzs7a0JBRWhELEVBQUVILElBQUlJLE9BQU8sQ0FBQ1gsR0FBRyxDQUFDLENBQUNZLFNBQW1CLENBQUMsOEJBQThCLEVBQUVBLE9BQU8sS0FBSyxDQUFDLEVBQUVYLElBQUksQ0FBQyxJQUFJOztxRUFFNUMsRUFBRU0sSUFBSU0sU0FBUyxDQUFDOztZQUV6RSxDQUFDLEVBQUVaLElBQUksQ0FBQyxJQUFJOzs7Ozs7Ozs7Ozs7RUFZdEIsQ0FBQztBQUNIIiwic291cmNlcyI6WyIvVXNlcnMvaWFtam9obmRhc3MvU2l0ZXMvam9obi1lbGxpc29uLmNvbS9hcHAvYXBpL2Fzc2Vzc21lbnRzL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBzYXZlQXNzZXNzbWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcbmltcG9ydCB7IGNhbGN1bGF0ZURpbWVuc2lvblNjb3JlLCBjYWxjdWxhdGVPdmVyYWxsU2NvcmUsIGdldFJlYWRpbmVzc0xldmVsLCBpZGVudGlmeUJsb2NrZXJzLCBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucywgY2FsY3VsYXRlQXhpc1Njb3JlcywgZGV0ZXJtaW5lQXJjaGV0eXBlIH0gZnJvbSAnQC9saWIvc2NvcmluZyc7XG5pbXBvcnQgeyBSZXNlbmQgfSBmcm9tICdyZXNlbmQnO1xuXG5jb25zdCByZXNlbmRBcGlLZXkgPSBwcm9jZXNzLmVudi5SRVNFTkRfQVBJX0tFWSB8fCAnJztcbmNvbnN0IHJlc2VuZCA9IHJlc2VuZEFwaUtleSA/IG5ldyBSZXNlbmQocmVzZW5kQXBpS2V5KSA6IG51bGw7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuXG4gICAgY29uc3QgeyBjb21wYW55RGF0YSwgYW5zd2VycywgY29tcGFueUluc2lnaHRzIH0gPSBib2R5O1xuXG4gICAgaWYgKCFjb21wYW55RGF0YSB8fCAhYW5zd2Vycykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbXBhbnlEYXRhLm5hbWUgfHwgIWNvbXBhbnlEYXRhLndlYnNpdGUgfHwgIWNvbXBhbnlEYXRhLmVtYWlsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdDb21wYW55IG5hbWUsIHdlYnNpdGUsIGFuZCBlbWFpbCBhcmUgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFuc3dlcnMgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoYW5zd2VycykpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0ludmFsaWQgYW5zd2VycyBwYXlsb2FkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgZGltZW5zaW9uU2NvcmVzID0gW1xuICAgICAgeyBkaW1lbnNpb246ICdMZWFkZXJzaGlwICYgU3RyYXRlZ3knLCBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoYW5zd2VycywgT2JqZWN0LmtleXMoYW5zd2VycykuZmlsdGVyKGsgPT4gay5zdGFydHNXaXRoKCdsJykpKSwgd2VpZ2h0OiAwLjIgfSxcbiAgICAgIHsgZGltZW5zaW9uOiAnRGF0YSBSZWFkaW5lc3MnLCBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoYW5zd2VycywgT2JqZWN0LmtleXMoYW5zd2VycykuZmlsdGVyKGsgPT4gay5zdGFydHNXaXRoKCdkJykpKSwgd2VpZ2h0OiAwLjI1IH0sXG4gICAgICB7IGRpbWVuc2lvbjogJ1RlY2hub2xvZ3kgSW5mcmFzdHJ1Y3R1cmUnLCBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoYW5zd2VycywgT2JqZWN0LmtleXMoYW5zd2VycykuZmlsdGVyKGsgPT4gay5zdGFydHNXaXRoKCd0JykpKSwgd2VpZ2h0OiAwLjE1IH0sXG4gICAgICB7IGRpbWVuc2lvbjogJ1RhbGVudCAmIENhcGFiaWxpdHknLCBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoYW5zd2VycywgT2JqZWN0LmtleXMoYW5zd2VycykuZmlsdGVyKGsgPT4gay5zdGFydHNXaXRoKCd0YScpKSksIHdlaWdodDogMC4xNSB9LFxuICAgICAgeyBkaW1lbnNpb246ICdHb3Zlcm5hbmNlICYgUmVzcG9uc2libGUgQUknLCBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoYW5zd2VycywgT2JqZWN0LmtleXMoYW5zd2VycykuZmlsdGVyKGsgPT4gay5zdGFydHNXaXRoKCdnJykpKSwgd2VpZ2h0OiAwLjEgfSxcbiAgICAgIHsgZGltZW5zaW9uOiAnQ3VsdHVyZSAmIENoYW5nZSBSZWFkaW5lc3MnLCBzY29yZTogY2FsY3VsYXRlRGltZW5zaW9uU2NvcmUoYW5zd2VycywgT2JqZWN0LmtleXMoYW5zd2VycykuZmlsdGVyKGsgPT4gay5zdGFydHNXaXRoKCdjJykpKSwgd2VpZ2h0OiAwLjE1IH0sXG4gICAgXTtcblxuICAgIGNvbnN0IG92ZXJhbGxTY29yZSA9IGNhbGN1bGF0ZU92ZXJhbGxTY29yZShkaW1lbnNpb25TY29yZXMpO1xuICAgIGNvbnN0IHJlYWRpbmVzcyA9IGdldFJlYWRpbmVzc0xldmVsKG92ZXJhbGxTY29yZSk7XG4gICAgY29uc3QgYmxvY2tlcnMgPSBpZGVudGlmeUJsb2NrZXJzKGRpbWVuc2lvblNjb3Jlcyk7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMob3ZlcmFsbFNjb3JlLCBkaW1lbnNpb25TY29yZXMpO1xuICAgIFxuICAgIC8vIE5ldyBDYWxjdWxhdGlvbnMgZm9yIEFyY2hldHlwZXNcbiAgICBjb25zdCBheGlzU2NvcmVzID0gY2FsY3VsYXRlQXhpc1Njb3JlcyhkaW1lbnNpb25TY29yZXMpO1xuICAgIGNvbnN0IGFyY2hldHlwZSA9IGRldGVybWluZUFyY2hldHlwZShheGlzU2NvcmVzKTtcblxuICAgIGNvbnN0IGFzc2Vzc21lbnREYXRhID0ge1xuICAgICAgY29tcGFueV9uYW1lOiBjb21wYW55RGF0YS5uYW1lLFxuICAgICAgd2Vic2l0ZTogY29tcGFueURhdGEud2Vic2l0ZSxcbiAgICAgIGxpbmtlZGluOiBjb21wYW55RGF0YS5saW5rZWRpbiB8fCAnJyxcbiAgICAgIGVtYWlsOiBjb21wYW55RGF0YS5lbWFpbCxcbiAgICAgIGRpbWVuc2lvbl9zY29yZXM6IGRpbWVuc2lvblNjb3Jlcy5yZWR1Y2UoKGFjYywgZGltKSA9PiAoeyAuLi5hY2MsIFtkaW0uZGltZW5zaW9uXTogZGltLnNjb3JlIH0pLCB7fSksXG4gICAgICBvdmVyYWxsX3Njb3JlOiBvdmVyYWxsU2NvcmUsXG4gICAgICByZWFkaW5lc3NfbGV2ZWw6IHJlYWRpbmVzcy5sZXZlbCxcbiAgICAgIGJsb2NrZXJzLFxuICAgICAgcmVjb21tZW5kYXRpb25zLFxuICAgICAgY29tcGFueV9pbnNpZ2h0czogY29tcGFueUluc2lnaHRzIHx8IG51bGwsXG4gICAgICBhcmNoZXR5cGUsICAgLy8gU2F2ZSBuZXcgZmllbGRcbiAgICAgIGF4aXNfc2NvcmVzOiBheGlzU2NvcmVzLCAvLyBTYXZlIG5ldyBmaWVsZFxuICAgIH07XG5cbiAgICBjb25zdCB7IHN1Y2Nlc3MsIGRhdGEgfSA9IGF3YWl0IHNhdmVBc3Nlc3NtZW50KGFzc2Vzc21lbnREYXRhKTtcblxuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHNhdmUgYXNzZXNzbWVudCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFNlbmQgZW1haWwgaW4gYmFja2dyb3VuZCAoZG9uJ3QgYmxvY2sgcmVzcG9uc2UpXG4gICAgc2VuZEFzc2Vzc21lbnRFbWFpbChjb21wYW55RGF0YS5lbWFpbCwge1xuICAgICAgb3ZlcmFsbFNjb3JlLFxuICAgICAgcmVhZGluZXNzLFxuICAgICAgZGltZW5zaW9uU2NvcmVzLFxuICAgICAgYmxvY2tlcnMsXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgICBhcmNoZXR5cGUsXG4gICAgfSkuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoJ0JhY2tncm91bmQgZW1haWwgZXJyb3I6JywgZXJyKSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGFzc2Vzc21lbnRJZDogZGF0YT8uWzBdPy5pZCxcbiAgICAgIHJlcG9ydDoge1xuICAgICAgICBvdmVyYWxsU2NvcmUsXG4gICAgICAgIHJlYWRpbmVzcyxcbiAgICAgICAgZGltZW5zaW9uU2NvcmVzLFxuICAgICAgICBibG9ja2VycyxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zLFxuICAgICAgICBhcmNoZXR5cGUsXG4gICAgICAgIGF4aXNTY29yZXMsXG4gICAgICAgIGNvbXBhbnlEYXRhLCAvLyBQYXNzIGJhY2sgZm9yIGRhc2hib2FyZFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBc3Nlc3NtZW50IHN1Ym1pc3Npb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRBc3Nlc3NtZW50RW1haWwoZW1haWw6IHN0cmluZywgcmVwb3J0OiBhbnkpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIXJlc2VuZCkge1xuICAgICAgY29uc29sZS53YXJuKCdSRVNFTkRfQVBJX0tFWSBpcyBub3QgY29uZmlndXJlZC4gU2tpcHBpbmcgZW1haWwgZGVsaXZlcnkuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcmVzZW5kLmVtYWlscy5zZW5kKHtcbiAgICAgIGZyb206ICdKb2huIEVsbGlzb24gPG5vLXJlcGx5QHVwZGF0ZXMuam9obi1lbGxpc29uLmNvbT4nLFxuICAgICAgdG86IGVtYWlsLFxuICAgICAgY2M6ICdqb2huQGpvaG4tZWxsaXNvbi5jb20nLFxuICAgICAgc3ViamVjdDogJ1lvdXIgQUkgUmVhZGluZXNzIEFzc2Vzc21lbnQgUmVwb3J0JyxcbiAgICAgIGh0bWw6IGdlbmVyYXRlRW1haWxDb250ZW50KHJlcG9ydCksXG4gICAgfSk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0VtYWlsIHNlbmQgZXJyb3I6JywgZXJyb3IpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignRXhjZXB0aW9uIHNlbmRpbmcgZW1haWw6JywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUVtYWlsQ29udGVudChyZXBvcnQ6IGFueSk6IHN0cmluZyB7XG4gIHJldHVybiBgXG4gICAgPCFET0NUWVBFIGh0bWw+XG4gICAgPGh0bWw+XG4gICAgICA8aGVhZD5cbiAgICAgICAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdJbnRlcicsIHNhbnMtc2VyaWY7IGJhY2tncm91bmQ6ICMwYzBjMTA7IGNvbG9yOiAjZmZmOyBtYXJnaW46IDA7IHBhZGRpbmc6IDQwcHggMjBweDsgfVxuICAgICAgICAgIC5jb250YWluZXIgeyBtYXgtd2lkdGg6IDgwMHB4OyBtYXJnaW46IDAgYXV0bzsgfVxuICAgICAgICAgIC5oZWFkZXIgeyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDQwcHg7IH1cbiAgICAgICAgICAuc2NvcmUtZGlzcGxheSB7IGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICM3YzNhZWQsICMzYjgyZjYpOyBwYWRkaW5nOiAzMHB4OyBib3JkZXItcmFkaXVzOiAxMnB4OyBtYXJnaW46IDMwcHggMDsgfVxuICAgICAgICAgIC5zY29yZS12YWx1ZSB7IGZvbnQtc2l6ZTogNzJweDsgZm9udC13ZWlnaHQ6IDcwMDsgY29sb3I6ICNmZmY7IH1cbiAgICAgICAgICAuc2NvcmUtbGFiZWwgeyBmb250LXNpemU6IDE4cHg7IG9wYWNpdHk6IDAuOTsgfVxuICAgICAgICAgIC5zZWN0aW9uIHsgbWFyZ2luOiAzMHB4IDA7IHBhZGRpbmc6IDI0cHg7IGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC4wNSk7IGJvcmRlci1yYWRpdXM6IDEycHg7IGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsgfVxuICAgICAgICAgIC5zZWN0aW9uLXRpdGxlIHsgZm9udC1zaXplOiAyNHB4OyBmb250LXdlaWdodDogNjAwOyBtYXJnaW4tYm90dG9tOiAyMHB4OyB9XG4gICAgICAgICAgLmRpbWVuc2lvbiB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgcGFkZGluZzogMTJweCAwOyBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwwLjEpOyB9XG4gICAgICAgICAgLmRpbWVuc2lvbi1uYW1lIHsgZm9udC1zaXplOiAxNnB4OyB9XG4gICAgICAgICAgLmRpbWVuc2lvbi1zY29yZSB7IGZvbnQtc2l6ZTogMzJweDsgZm9udC13ZWlnaHQ6IDcwMDsgfVxuICAgICAgICAgIC5ibG9ja2VyIHsgYmFja2dyb3VuZDogcmdiYSgyMzksIDY4LCA2OCwgMC4xKTsgcGFkZGluZzogMTZweDsgYm9yZGVyLXJhZGl1czogOHB4OyBtYXJnaW46IDEycHggMDsgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjZWY0NDQ0OyB9XG4gICAgICAgICAgLmJsb2NrZXItdGl0bGUgeyBmb250LXdlaWdodDogNjAwOyBtYXJnaW4tYm90dG9tOiA4cHg7IH1cbiAgICAgICAgICAucmVjb21tZW5kYXRpb24geyBiYWNrZ3JvdW5kOiByZ2JhKDM0LCAxOTcsIDk0LCAwLjEpOyBwYWRkaW5nOiAyMHB4OyBib3JkZXItcmFkaXVzOiAxMnB4OyBtYXJnaW46IDIwcHggMDsgYm9yZGVyLWxlZnQ6IDNweCBzb2xpZCAjMjJjNTVlOyB9XG4gICAgICAgICAgLmN0YSB7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiA0MHB4IDA7IH1cbiAgICAgICAgICAuYnRuIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBiYWNrZ3JvdW5kOiAjN2MzYWVkOyBjb2xvcjogI2ZmZjsgcGFkZGluZzogMTZweCAzMnB4OyBib3JkZXItcmFkaXVzOiA4cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZm9udC13ZWlnaHQ6IDYwMDsgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9oZWFkPlxuICAgICAgPGJvZHk+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICA8aDE+WW91ciBBSSBSZWFkaW5lc3MgQXNzZXNzbWVudDwvaDE+XG4gICAgICAgICAgICA8cD5IZXJlJ3MgeW91ciBwZXJzb25hbGl6ZWQgcmVwb3J0IGJhc2VkIG9uIHRoZSA0MCBxdWVzdGlvbnMgeW91IGNvbXBsZXRlZC48L3A+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2NvcmUtZGlzcGxheVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNjb3JlLXZhbHVlXCI+JHtyZXBvcnQub3ZlcmFsbFNjb3JlfS8xMDA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzY29yZS1sYWJlbFwiPiR7cmVwb3J0LnJlYWRpbmVzcy5sZXZlbH08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi10aXRsZVwiPkRpbWVuc2lvbiBTY29yZXM8L2Rpdj5cbiAgICAgICAgICAgICR7cmVwb3J0LmRpbWVuc2lvblNjb3Jlcy5tYXAoKGRpbTogYW55KSA9PiBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaW1lbnNpb25cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRpbWVuc2lvbi1uYW1lXCI+JHtkaW0uZGltZW5zaW9ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRpbWVuc2lvbi1zY29yZVwiPiR7ZGltLnNjb3JlfS8xMDA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5Ub3AgQmxvY2tlcnM8L2Rpdj5cbiAgICAgICAgICAgICR7cmVwb3J0LmJsb2NrZXJzLm1hcCgoYmxvY2tlcjogYW55KSA9PiBgXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJibG9ja2VyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJsb2NrZXItdGl0bGVcIj4ke2Jsb2NrZXIuZGltZW5zaW9ufTogJHtibG9ja2VyLmlzc3VlfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxwPjxzdHJvbmc+SW1wYWN0Ojwvc3Ryb25nPiAke2Jsb2NrZXIuaW1wYWN0fTwvcD5cbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPkNvc3QgdG8gRml4Ojwvc3Ryb25nPiAke2Jsb2NrZXIuY29zdFJhbmdlfTwvcD5cbiAgICAgICAgICAgICAgICA8cD48c3Ryb25nPlRpbWVsaW5lOjwvc3Ryb25nPiAke2Jsb2NrZXIudGltZWxpbmV9PC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIGApLmpvaW4oJycpfVxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+UmVjb21tZW5kYXRpb25zPC9kaXY+XG4gICAgICAgICAgICAke3JlcG9ydC5yZWNvbW1lbmRhdGlvbnMubWFwKChyZWM6IGFueSkgPT4gYFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luOiAyMHB4IDA7XCI+XG4gICAgICAgICAgICAgICAgPGgzIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogNjAwOyBtYXJnaW4tYm90dG9tOiAxMnB4O1wiPiR7cmVjLnBoYXNlfTogJHtyZWMudGl0bGV9PC9oMz5cbiAgICAgICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDE2cHg7XCI+JHtyZWMuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICR7cmVjLmFjdGlvbnMubWFwKChhY3Rpb246IHN0cmluZykgPT4gYDxsaSBzdHlsZT1cInBhZGRpbmc6IDhweCAwO1wiPuKAoiAke2FjdGlvbn08L2xpPmApLmpvaW4oJycpfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE0cHg7IG9wYWNpdHk6IDAuODtcIj5UaW1lZnJhbWU6ICR7cmVjLnRpbWVmcmFtZX08L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3RhXCI+XG4gICAgICAgICAgICA8YSBocmVmPVwiaHR0cHM6Ly9qb2huLWVsbGlzb24uY29tL2NvbnRhY3RcIiBjbGFzcz1cImJ0blwiPlNjaGVkdWxlIFN0cmF0ZWd5IENhbGw8L2E+XG4gICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbi10b3A6IDE2cHg7IG9wYWNpdHk6IDAuNzsgZm9udC1zaXplOiAxNHB4O1wiPlxuICAgICAgICAgICAgICBMZXQncyBkaXNjdXNzIHlvdXIgcmVzdWx0cyBhbmQgYnVpbGQgeW91ciB0cmFuc2Zvcm1hdGlvbiByb2FkbWFwLlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGA7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic2F2ZUFzc2Vzc21lbnQiLCJjYWxjdWxhdGVEaW1lbnNpb25TY29yZSIsImNhbGN1bGF0ZU92ZXJhbGxTY29yZSIsImdldFJlYWRpbmVzc0xldmVsIiwiaWRlbnRpZnlCbG9ja2VycyIsImdlbmVyYXRlUmVjb21tZW5kYXRpb25zIiwiY2FsY3VsYXRlQXhpc1Njb3JlcyIsImRldGVybWluZUFyY2hldHlwZSIsIlJlc2VuZCIsInJlc2VuZEFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJSRVNFTkRfQVBJX0tFWSIsInJlc2VuZCIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJjb21wYW55RGF0YSIsImFuc3dlcnMiLCJjb21wYW55SW5zaWdodHMiLCJlcnJvciIsInN0YXR1cyIsIm5hbWUiLCJ3ZWJzaXRlIiwiZW1haWwiLCJBcnJheSIsImlzQXJyYXkiLCJkaW1lbnNpb25TY29yZXMiLCJkaW1lbnNpb24iLCJzY29yZSIsIk9iamVjdCIsImtleXMiLCJmaWx0ZXIiLCJrIiwic3RhcnRzV2l0aCIsIndlaWdodCIsIm92ZXJhbGxTY29yZSIsInJlYWRpbmVzcyIsImJsb2NrZXJzIiwicmVjb21tZW5kYXRpb25zIiwiYXhpc1Njb3JlcyIsImFyY2hldHlwZSIsImFzc2Vzc21lbnREYXRhIiwiY29tcGFueV9uYW1lIiwibGlua2VkaW4iLCJkaW1lbnNpb25fc2NvcmVzIiwicmVkdWNlIiwiYWNjIiwiZGltIiwib3ZlcmFsbF9zY29yZSIsInJlYWRpbmVzc19sZXZlbCIsImxldmVsIiwiY29tcGFueV9pbnNpZ2h0cyIsImF4aXNfc2NvcmVzIiwic3VjY2VzcyIsImRhdGEiLCJzZW5kQXNzZXNzbWVudEVtYWlsIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiYXNzZXNzbWVudElkIiwiaWQiLCJyZXBvcnQiLCJ3YXJuIiwiZW1haWxzIiwic2VuZCIsImZyb20iLCJ0byIsImNjIiwic3ViamVjdCIsImh0bWwiLCJnZW5lcmF0ZUVtYWlsQ29udGVudCIsIm1hcCIsImpvaW4iLCJibG9ja2VyIiwiaXNzdWUiLCJpbXBhY3QiLCJjb3N0UmFuZ2UiLCJ0aW1lbGluZSIsInJlYyIsInBoYXNlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImFjdGlvbnMiLCJhY3Rpb24iLCJ0aW1lZnJhbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/assessments/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/scoring.ts":
/*!************************!*\
  !*** ./lib/scoring.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateAxisScores: () => (/* binding */ calculateAxisScores),\n/* harmony export */   calculateDimensionScore: () => (/* binding */ calculateDimensionScore),\n/* harmony export */   calculateOverallScore: () => (/* binding */ calculateOverallScore),\n/* harmony export */   determineArchetype: () => (/* binding */ determineArchetype),\n/* harmony export */   generateRecommendations: () => (/* binding */ generateRecommendations),\n/* harmony export */   getReadinessLevel: () => (/* binding */ getReadinessLevel),\n/* harmony export */   identifyBlockers: () => (/* binding */ identifyBlockers)\n/* harmony export */ });\nconst ARCHETYPES = {\n    ApexIntegrator: {\n        name: 'Apex Integrator',\n        title: 'The Apex Integrator',\n        description: 'You combine high strategic vision with robust operational capability. AI is becoming your competitive moat.',\n        hook: 'We are the 1%. AI is our competitive moat.',\n        color: '#7c3aed'\n    },\n    VisionaryArchitect: {\n        name: 'Visionary Architect',\n        title: 'The Visionary Architect',\n        description: 'You have a clear strategic direction, but your operational foundation needs strengthening to execute that vision.',\n        hook: 'We know exactly where we going.',\n        color: '#3b82f6'\n    },\n    TacticalPowerhouse: {\n        name: 'Tactical Powerhouse',\n        title: 'The Tactical Powerhouse',\n        description: 'You have strong technical muscles and data capability, but lack the unified strategic direction to maximize ROI.',\n        hook: 'We are an execution machine.',\n        color: '#f59e0b'\n    },\n    CalculatedScout: {\n        name: 'Calculated Scout',\n        title: 'The Calculated Scout',\n        description: 'You are in the early stages, observing and planning. You prioritize prudence over speed.',\n        hook: 'We measure twice, cut once.',\n        color: '#64748b'\n    }\n};\nfunction calculateDimensionScore(answers, questionIds) {\n    const dimensionAnswers = questionIds.map((id)=>answers[id]);\n    const validAnswers = dimensionAnswers.filter((a)=>a !== undefined);\n    if (validAnswers.length === 0) return 0;\n    const sum = validAnswers.reduce((acc, val)=>acc + val, 0);\n    return Math.round(sum / validAnswers.length);\n}\nfunction calculateAxisScores(dimensionScores) {\n    const scores = dimensionScores.reduce((acc, dim)=>({\n            ...acc,\n            [dim.dimension]: dim.score\n        }), {});\n    // Y-Axis: Strategic Vision (Leadership, Culture, Governance)\n    const visionScore = Math.round(((scores['Leadership & Strategy'] || 0) + (scores['Culture & Change Readiness'] || 0) + (scores['Governance & Responsible AI'] || 0)) / 3);\n    // X-Axis: Operational Capability (Data, Tech, Talent)\n    const opsScore = Math.round(((scores['Data Readiness'] || 0) + (scores['Technology Infrastructure'] || 0) + (scores['Talent & Capability'] || 0)) / 3);\n    return {\n        vision: visionScore,\n        ops: opsScore\n    };\n}\nfunction determineArchetype(axisScores) {\n    const { vision, ops } = axisScores;\n    const THRESHOLD = 50; // Midpoint\n    if (vision >= THRESHOLD && ops >= THRESHOLD) return ARCHETYPES.ApexIntegrator;\n    if (vision >= THRESHOLD && ops < THRESHOLD) return ARCHETYPES.VisionaryArchitect;\n    if (vision < THRESHOLD && ops >= THRESHOLD) return ARCHETYPES.TacticalPowerhouse;\n    return ARCHETYPES.CalculatedScout;\n}\nfunction calculateOverallScore(dimensionScores) {\n    const weightedSum = dimensionScores.reduce((acc, dim)=>acc + dim.score * dim.weight, 0);\n    return Math.round(weightedSum);\n}\nfunction getReadinessLevel(score) {\n    if (score < 20) {\n        return {\n            level: 'Not Ready',\n            color: '#ef4444',\n            timeline: '18-24 months',\n            successRate: '15-20%'\n        };\n    }\n    if (score < 40) {\n        return {\n            level: 'Early Stage',\n            color: '#f97316',\n            timeline: '12-18 months',\n            successRate: '35-50%'\n        };\n    }\n    if (score < 60) {\n        return {\n            level: 'Developing',\n            color: '#eab308',\n            timeline: '12-18 months',\n            successRate: '60-75%'\n        };\n    }\n    if (score < 80) {\n        return {\n            level: 'Ready to Accelerate',\n            color: '#22c55e',\n            timeline: '9-12 months',\n            successRate: '75-85%'\n        };\n    }\n    return {\n        level: 'Advanced',\n        color: '#3b82f6',\n        timeline: '6-9 months',\n        successRate: '85-95%'\n    };\n}\nfunction identifyBlockers(dimensionScores) {\n    const blockers = [];\n    dimensionScores.forEach((dim)=>{\n        if (dim.score < 40) {\n            if (dim.dimension === 'Data Readiness') {\n                blockers.push({\n                    dimension: dim.dimension,\n                    issue: 'Poor data quality and governance',\n                    impact: '52-98% of organizations cite this as top blocker',\n                    costRange: '$300K-$2M',\n                    timeline: '12-24 months',\n                    priority: 'high'\n                });\n            } else if (dim.dimension === 'Technology Infrastructure') {\n                blockers.push({\n                    dimension: dim.dimension,\n                    issue: 'Legacy system integration challenges',\n                    impact: '93% blocked by integration issues',\n                    costRange: '$150K-$500K',\n                    timeline: '6-12 months',\n                    priority: 'high'\n                });\n            } else if (dim.dimension === 'Talent & Capability') {\n                blockers.push({\n                    dimension: dim.dimension,\n                    issue: 'Lack of internal AI expertise',\n                    impact: '52% lack talent and skills',\n                    costRange: '$150K-$500K',\n                    timeline: '6-12 months',\n                    priority: 'high'\n                });\n            }\n        }\n        if (dim.score < 60) {\n            if (dim.dimension === 'Leadership & Strategy') {\n                blockers.push({\n                    dimension: dim.dimension,\n                    issue: 'No clear AI strategy or executive sponsor',\n                    impact: 'Strategy gaps predict 70% slower progress',\n                    costRange: '$50K-$200K',\n                    timeline: '3-6 months',\n                    priority: 'medium'\n                });\n            } else if (dim.dimension === 'Culture & Change Readiness') {\n                blockers.push({\n                    dimension: dim.dimension,\n                    issue: 'Employee resistance and fear of AI',\n                    impact: 'Adoption drops to 20-30% without addressing',\n                    costRange: '$50K-$200K',\n                    timeline: '6-12 months',\n                    priority: 'medium'\n                });\n            }\n        }\n        if (dim.score < 50) {\n            if (dim.dimension === 'Governance & Responsible AI') {\n                blockers.push({\n                    dimension: dim.dimension,\n                    issue: 'No AI governance framework',\n                    impact: 'Only 43% have governance policy',\n                    costRange: '$50K-$200K',\n                    timeline: '2-3 months',\n                    priority: 'medium'\n                });\n            }\n        }\n    });\n    return blockers.sort((a, b)=>{\n        const priorityOrder = {\n            high: 0,\n            medium: 1,\n            low: 2\n        };\n        return priorityOrder[a.priority] - priorityOrder[b.priority];\n    });\n}\nfunction generateRecommendations(overallScore, dimensionScores) {\n    const recommendations = [];\n    if (overallScore < 40) {\n        recommendations.push({\n            phase: 'Phase 1: Foundation',\n            title: 'Establish AI Strategy and Governance',\n            description: 'Build foundational strategy, assign executive sponsor, and create governance framework.',\n            actions: [\n                'Develop and document AI strategy with clear KPIs',\n                'Appoint C-suite AI sponsor',\n                'Create data governance framework with ownership',\n                'Establish responsible AI policies'\n            ],\n            timeframe: '2-3 months'\n        });\n        recommendations.push({\n            phase: 'Phase 2: Data Readiness',\n            title: 'Improve Data Quality and Accessibility',\n            description: 'Centralize data, improve quality monitoring, and catalog data assets.',\n            actions: [\n                'Implement data catalog and metadata management',\n                'Deploy automated data quality monitoring',\n                'Create data warehouse/lakehouse for centralized access',\n                'Establish data ownership and stewardship'\n            ],\n            timeframe: '3-6 months'\n        });\n    } else if (overallScore < 60) {\n        recommendations.push({\n            phase: 'Phase 1: Acceleration',\n            title: 'Close Readiness Gaps',\n            description: 'Address specific blockers and accelerate AI adoption.',\n            actions: [\n                'Prioritize and fix highest-impact blockers',\n                'Build first production use case',\n                'Deploy change management program',\n                'Upskill teams with AI literacy training'\n            ],\n            timeframe: '3-6 months'\n        });\n        recommendations.push({\n            phase: 'Phase 2: Scale',\n            title: 'Deploy Additional Use Cases',\n            description: 'Expand from 1-2 use cases to 5-10 across the organization.',\n            actions: [\n                'Identify and prioritize next 2-3 use cases',\n                'Build reusable AI components',\n                'Create internal AI champion program',\n                'Establish MLOps for production deployment'\n            ],\n            timeframe: '6-12 months'\n        });\n    } else {\n        recommendations.push({\n            phase: 'Phase 1: Scale',\n            title: 'Enterprise AI Transformation',\n            description: 'Scale from 3-5 use cases to 10+ across departments.',\n            actions: [\n                'Develop AI center of excellence',\n                'Create cross-functional AI governance council',\n                'Build AI platform strategy and architecture',\n                'Deploy organization-wide change management'\n            ],\n            timeframe: '6-12 months'\n        });\n    }\n    return recommendations;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTtnQkFDQTtnQkFDQTthQUNEO1lBQ0RDLFdBQVc7UUFDYjtRQUVBSCxnQkFBZ0JiLElBQUksQ0FBQztZQUNuQmMsT0FBTztZQUNQN0QsT0FBTztZQUNQQyxhQUFhO1lBQ2I2RCxTQUFTO2dCQUNQO2dCQUNBO2dCQUNBO2dCQUNBO2FBQ0Q7WUFDREMsV0FBVztRQUNiO0lBQ0YsT0FBTyxJQUFJSixlQUFlLElBQUk7UUFDNUJDLGdCQUFnQmIsSUFBSSxDQUFDO1lBQ25CYyxPQUFPO1lBQ1A3RCxPQUFPO1lBQ1BDLGFBQWE7WUFDYjZELFNBQVM7Z0JBQ1A7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDRDtZQUNEQyxXQUFXO1FBQ2I7UUFFQUgsZ0JBQWdCYixJQUFJLENBQUM7WUFDbkJjLE9BQU87WUFDUDdELE9BQU87WUFDUEMsYUFBYTtZQUNiNkQsU0FBUztnQkFDUDtnQkFDQTtnQkFDQTtnQkFDQTthQUNEO1lBQ0RDLFdBQVc7UUFDYjtJQUNGLE9BQU87UUFDTEgsZ0JBQWdCYixJQUFJLENBQUM7WUFDbkJjLE9BQU87WUFDUDdELE9BQU87WUFDUEMsYUFBYTtZQUNiNkQsU0FBUztnQkFDUDtnQkFDQTtnQkFDQTtnQkFDQTthQUNEO1lBQ0RDLFdBQVc7UUFDYjtJQUNGO0lBRUEsT0FBT0g7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL2lhbWpvaG5kYXNzL1NpdGVzL2pvaG4tZWxsaXNvbi5jb20vbGliL3Njb3JpbmcudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXNzZXNzbWVudEFuc3dlciwgRGltZW5zaW9uU2NvcmUsIFJlYWRpbmVzc0xldmVsLCBCbG9ja2VyLCBSZWNvbW1lbmRhdGlvbiwgQXJjaGV0eXBlLCBBeGlzU2NvcmVzIH0gZnJvbSAnQC90eXBlcy9hc3Nlc3NtZW50JztcblxuY29uc3QgQVJDSEVUWVBFUzogUmVjb3JkPHN0cmluZywgQXJjaGV0eXBlPiA9IHtcbiAgQXBleEludGVncmF0b3I6IHtcbiAgICBuYW1lOiAnQXBleCBJbnRlZ3JhdG9yJyxcbiAgICB0aXRsZTogJ1RoZSBBcGV4IEludGVncmF0b3InLFxuICAgIGRlc2NyaXB0aW9uOiAnWW91IGNvbWJpbmUgaGlnaCBzdHJhdGVnaWMgdmlzaW9uIHdpdGggcm9idXN0IG9wZXJhdGlvbmFsIGNhcGFiaWxpdHkuIEFJIGlzIGJlY29taW5nIHlvdXIgY29tcGV0aXRpdmUgbW9hdC4nLFxuICAgIGhvb2s6ICdXZSBhcmUgdGhlIDElLiBBSSBpcyBvdXIgY29tcGV0aXRpdmUgbW9hdC4nLFxuICAgIGNvbG9yOiAnIzdjM2FlZCcsIC8vIFZpb2xldFxuICB9LFxuICBWaXNpb25hcnlBcmNoaXRlY3Q6IHtcbiAgICBuYW1lOiAnVmlzaW9uYXJ5IEFyY2hpdGVjdCcsXG4gICAgdGl0bGU6ICdUaGUgVmlzaW9uYXJ5IEFyY2hpdGVjdCcsXG4gICAgZGVzY3JpcHRpb246ICdZb3UgaGF2ZSBhIGNsZWFyIHN0cmF0ZWdpYyBkaXJlY3Rpb24sIGJ1dCB5b3VyIG9wZXJhdGlvbmFsIGZvdW5kYXRpb24gbmVlZHMgc3RyZW5ndGhlbmluZyB0byBleGVjdXRlIHRoYXQgdmlzaW9uLicsXG4gICAgaG9vazogJ1dlIGtub3cgZXhhY3RseSB3aGVyZSB3ZSBnb2luZy4nLFxuICAgIGNvbG9yOiAnIzNiODJmNicsIC8vIEJsdWVcbiAgfSxcbiAgVGFjdGljYWxQb3dlcmhvdXNlOiB7XG4gICAgbmFtZTogJ1RhY3RpY2FsIFBvd2VyaG91c2UnLFxuICAgIHRpdGxlOiAnVGhlIFRhY3RpY2FsIFBvd2VyaG91c2UnLFxuICAgIGRlc2NyaXB0aW9uOiAnWW91IGhhdmUgc3Ryb25nIHRlY2huaWNhbCBtdXNjbGVzIGFuZCBkYXRhIGNhcGFiaWxpdHksIGJ1dCBsYWNrIHRoZSB1bmlmaWVkIHN0cmF0ZWdpYyBkaXJlY3Rpb24gdG8gbWF4aW1pemUgUk9JLicsXG4gICAgaG9vazogJ1dlIGFyZSBhbiBleGVjdXRpb24gbWFjaGluZS4nLFxuICAgIGNvbG9yOiAnI2Y1OWUwYicsIC8vIEFtYmVyXG4gIH0sXG4gIENhbGN1bGF0ZWRTY291dDoge1xuICAgIG5hbWU6ICdDYWxjdWxhdGVkIFNjb3V0JyxcbiAgICB0aXRsZTogJ1RoZSBDYWxjdWxhdGVkIFNjb3V0JyxcbiAgICBkZXNjcmlwdGlvbjogJ1lvdSBhcmUgaW4gdGhlIGVhcmx5IHN0YWdlcywgb2JzZXJ2aW5nIGFuZCBwbGFubmluZy4gWW91IHByaW9yaXRpemUgcHJ1ZGVuY2Ugb3ZlciBzcGVlZC4nLFxuICAgIGhvb2s6ICdXZSBtZWFzdXJlIHR3aWNlLCBjdXQgb25jZS4nLFxuICAgIGNvbG9yOiAnIzY0NzQ4YicsIC8vIFNsYXRlXG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVEaW1lbnNpb25TY29yZShcbiAgYW5zd2VyczogUmVjb3JkPHN0cmluZywgbnVtYmVyPixcbiAgcXVlc3Rpb25JZHM6IHN0cmluZ1tdXG4pOiBudW1iZXIge1xuICBjb25zdCBkaW1lbnNpb25BbnN3ZXJzID0gcXVlc3Rpb25JZHMubWFwKChpZCkgPT4gYW5zd2Vyc1tpZF0pO1xuICBjb25zdCB2YWxpZEFuc3dlcnMgPSBkaW1lbnNpb25BbnN3ZXJzLmZpbHRlcigoYSk6IGEgaXMgbnVtYmVyID0+IGEgIT09IHVuZGVmaW5lZCk7XG4gIGlmICh2YWxpZEFuc3dlcnMubGVuZ3RoID09PSAwKSByZXR1cm4gMDtcbiAgY29uc3Qgc3VtID0gdmFsaWRBbnN3ZXJzLnJlZHVjZSgoYWNjLCB2YWwpID0+IGFjYyArIHZhbCwgMCk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHN1bSAvIHZhbGlkQW5zd2Vycy5sZW5ndGgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQXhpc1Njb3JlcyhkaW1lbnNpb25TY29yZXM6IERpbWVuc2lvblNjb3JlW10pOiBBeGlzU2NvcmVzIHtcbiAgY29uc3Qgc2NvcmVzID0gZGltZW5zaW9uU2NvcmVzLnJlZHVjZSgoYWNjLCBkaW0pID0+ICh7XG4gICAgLi4uYWNjLFxuICAgIFtkaW0uZGltZW5zaW9uXTogZGltLnNjb3JlXG4gIH0pLCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcblxuICAvLyBZLUF4aXM6IFN0cmF0ZWdpYyBWaXNpb24gKExlYWRlcnNoaXAsIEN1bHR1cmUsIEdvdmVybmFuY2UpXG4gIGNvbnN0IHZpc2lvblNjb3JlID0gTWF0aC5yb3VuZChcbiAgICAoKHNjb3Jlc1snTGVhZGVyc2hpcCAmIFN0cmF0ZWd5J10gfHwgMCkgKyBcbiAgICAgKHNjb3Jlc1snQ3VsdHVyZSAmIENoYW5nZSBSZWFkaW5lc3MnXSB8fCAwKSArIFxuICAgICAoc2NvcmVzWydHb3Zlcm5hbmNlICYgUmVzcG9uc2libGUgQUknXSB8fCAwKSkgLyAzXG4gICk7XG5cbiAgLy8gWC1BeGlzOiBPcGVyYXRpb25hbCBDYXBhYmlsaXR5IChEYXRhLCBUZWNoLCBUYWxlbnQpXG4gIGNvbnN0IG9wc1Njb3JlID0gTWF0aC5yb3VuZChcbiAgICAoKHNjb3Jlc1snRGF0YSBSZWFkaW5lc3MnXSB8fCAwKSArIFxuICAgICAoc2NvcmVzWydUZWNobm9sb2d5IEluZnJhc3RydWN0dXJlJ10gfHwgMCkgKyBcbiAgICAgKHNjb3Jlc1snVGFsZW50ICYgQ2FwYWJpbGl0eSddIHx8IDApKSAvIDNcbiAgKTtcblxuICByZXR1cm4geyB2aXNpb246IHZpc2lvblNjb3JlLCBvcHM6IG9wc1Njb3JlIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmVBcmNoZXR5cGUoYXhpc1Njb3JlczogQXhpc1Njb3Jlcyk6IEFyY2hldHlwZSB7XG4gIGNvbnN0IHsgdmlzaW9uLCBvcHMgfSA9IGF4aXNTY29yZXM7XG4gIGNvbnN0IFRIUkVTSE9MRCA9IDUwOyAvLyBNaWRwb2ludFxuXG4gIGlmICh2aXNpb24gPj0gVEhSRVNIT0xEICYmIG9wcyA+PSBUSFJFU0hPTEQpIHJldHVybiBBUkNIRVRZUEVTLkFwZXhJbnRlZ3JhdG9yO1xuICBpZiAodmlzaW9uID49IFRIUkVTSE9MRCAmJiBvcHMgPCBUSFJFU0hPTEQpIHJldHVybiBBUkNIRVRZUEVTLlZpc2lvbmFyeUFyY2hpdGVjdDtcbiAgaWYgKHZpc2lvbiA8IFRIUkVTSE9MRCAmJiBvcHMgPj0gVEhSRVNIT0xEKSByZXR1cm4gQVJDSEVUWVBFUy5UYWN0aWNhbFBvd2VyaG91c2U7XG4gIHJldHVybiBBUkNIRVRZUEVTLkNhbGN1bGF0ZWRTY291dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZU92ZXJhbGxTY29yZShkaW1lbnNpb25TY29yZXM6IERpbWVuc2lvblNjb3JlW10pOiBudW1iZXIge1xuICBjb25zdCB3ZWlnaHRlZFN1bSA9IGRpbWVuc2lvblNjb3Jlcy5yZWR1Y2UoXG4gICAgKGFjYywgZGltKSA9PiBhY2MgKyBkaW0uc2NvcmUgKiBkaW0ud2VpZ2h0LFxuICAgIDBcbiAgKTtcbiAgcmV0dXJuIE1hdGgucm91bmQod2VpZ2h0ZWRTdW0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVhZGluZXNzTGV2ZWwoc2NvcmU6IG51bWJlcik6IFJlYWRpbmVzc0xldmVsIHtcbiAgaWYgKHNjb3JlIDwgMjApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICdOb3QgUmVhZHknLFxuICAgICAgY29sb3I6ICcjZWY0NDQ0JyxcbiAgICAgIHRpbWVsaW5lOiAnMTgtMjQgbW9udGhzJyxcbiAgICAgIHN1Y2Nlc3NSYXRlOiAnMTUtMjAlJyxcbiAgICB9O1xuICB9XG4gIGlmIChzY29yZSA8IDQwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAnRWFybHkgU3RhZ2UnLFxuICAgICAgY29sb3I6ICcjZjk3MzE2JyxcbiAgICAgIHRpbWVsaW5lOiAnMTItMTggbW9udGhzJyxcbiAgICAgIHN1Y2Nlc3NSYXRlOiAnMzUtNTAlJyxcbiAgICB9O1xuICB9XG4gIGlmIChzY29yZSA8IDYwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiAnRGV2ZWxvcGluZycsXG4gICAgICBjb2xvcjogJyNlYWIzMDgnLFxuICAgICAgdGltZWxpbmU6ICcxMi0xOCBtb250aHMnLFxuICAgICAgc3VjY2Vzc1JhdGU6ICc2MC03NSUnLFxuICAgIH07XG4gIH1cbiAgaWYgKHNjb3JlIDwgODApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6ICdSZWFkeSB0byBBY2NlbGVyYXRlJyxcbiAgICAgIGNvbG9yOiAnIzIyYzU1ZScsXG4gICAgICB0aW1lbGluZTogJzktMTIgbW9udGhzJyxcbiAgICAgIHN1Y2Nlc3NSYXRlOiAnNzUtODUlJyxcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgbGV2ZWw6ICdBZHZhbmNlZCcsXG4gICAgY29sb3I6ICcjM2I4MmY2JyxcbiAgICB0aW1lbGluZTogJzYtOSBtb250aHMnLFxuICAgIHN1Y2Nlc3NSYXRlOiAnODUtOTUlJyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aWZ5QmxvY2tlcnMoXG4gIGRpbWVuc2lvblNjb3JlczogRGltZW5zaW9uU2NvcmVbXVxuKTogQmxvY2tlcltdIHtcbiAgY29uc3QgYmxvY2tlcnM6IEJsb2NrZXJbXSA9IFtdO1xuXG4gIGRpbWVuc2lvblNjb3Jlcy5mb3JFYWNoKChkaW0pID0+IHtcbiAgICBpZiAoZGltLnNjb3JlIDwgNDApIHtcbiAgICAgIGlmIChkaW0uZGltZW5zaW9uID09PSAnRGF0YSBSZWFkaW5lc3MnKSB7XG4gICAgICAgIGJsb2NrZXJzLnB1c2goe1xuICAgICAgICAgIGRpbWVuc2lvbjogZGltLmRpbWVuc2lvbixcbiAgICAgICAgICBpc3N1ZTogJ1Bvb3IgZGF0YSBxdWFsaXR5IGFuZCBnb3Zlcm5hbmNlJyxcbiAgICAgICAgICBpbXBhY3Q6ICc1Mi05OCUgb2Ygb3JnYW5pemF0aW9ucyBjaXRlIHRoaXMgYXMgdG9wIGJsb2NrZXInLFxuICAgICAgICAgIGNvc3RSYW5nZTogJyQzMDBLLSQyTScsXG4gICAgICAgICAgdGltZWxpbmU6ICcxMi0yNCBtb250aHMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChkaW0uZGltZW5zaW9uID09PSAnVGVjaG5vbG9neSBJbmZyYXN0cnVjdHVyZScpIHtcbiAgICAgICAgYmxvY2tlcnMucHVzaCh7XG4gICAgICAgICAgZGltZW5zaW9uOiBkaW0uZGltZW5zaW9uLFxuICAgICAgICAgIGlzc3VlOiAnTGVnYWN5IHN5c3RlbSBpbnRlZ3JhdGlvbiBjaGFsbGVuZ2VzJyxcbiAgICAgICAgICBpbXBhY3Q6ICc5MyUgYmxvY2tlZCBieSBpbnRlZ3JhdGlvbiBpc3N1ZXMnLFxuICAgICAgICAgIGNvc3RSYW5nZTogJyQxNTBLLSQ1MDBLJyxcbiAgICAgICAgICB0aW1lbGluZTogJzYtMTIgbW9udGhzJyxcbiAgICAgICAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZGltLmRpbWVuc2lvbiA9PT0gJ1RhbGVudCAmIENhcGFiaWxpdHknKSB7XG4gICAgICAgIGJsb2NrZXJzLnB1c2goe1xuICAgICAgICAgIGRpbWVuc2lvbjogZGltLmRpbWVuc2lvbixcbiAgICAgICAgICBpc3N1ZTogJ0xhY2sgb2YgaW50ZXJuYWwgQUkgZXhwZXJ0aXNlJyxcbiAgICAgICAgICBpbXBhY3Q6ICc1MiUgbGFjayB0YWxlbnQgYW5kIHNraWxscycsXG4gICAgICAgICAgY29zdFJhbmdlOiAnJDE1MEstJDUwMEsnLFxuICAgICAgICAgIHRpbWVsaW5lOiAnNi0xMiBtb250aHMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkaW0uc2NvcmUgPCA2MCkge1xuICAgICAgaWYgKGRpbS5kaW1lbnNpb24gPT09ICdMZWFkZXJzaGlwICYgU3RyYXRlZ3knKSB7XG4gICAgICAgIGJsb2NrZXJzLnB1c2goe1xuICAgICAgICAgIGRpbWVuc2lvbjogZGltLmRpbWVuc2lvbixcbiAgICAgICAgICBpc3N1ZTogJ05vIGNsZWFyIEFJIHN0cmF0ZWd5IG9yIGV4ZWN1dGl2ZSBzcG9uc29yJyxcbiAgICAgICAgICBpbXBhY3Q6ICdTdHJhdGVneSBnYXBzIHByZWRpY3QgNzAlIHNsb3dlciBwcm9ncmVzcycsXG4gICAgICAgICAgY29zdFJhbmdlOiAnJDUwSy0kMjAwSycsXG4gICAgICAgICAgdGltZWxpbmU6ICczLTYgbW9udGhzJyxcbiAgICAgICAgICBwcmlvcml0eTogJ21lZGl1bScsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChkaW0uZGltZW5zaW9uID09PSAnQ3VsdHVyZSAmIENoYW5nZSBSZWFkaW5lc3MnKSB7XG4gICAgICAgIGJsb2NrZXJzLnB1c2goe1xuICAgICAgICAgIGRpbWVuc2lvbjogZGltLmRpbWVuc2lvbixcbiAgICAgICAgICBpc3N1ZTogJ0VtcGxveWVlIHJlc2lzdGFuY2UgYW5kIGZlYXIgb2YgQUknLFxuICAgICAgICAgIGltcGFjdDogJ0Fkb3B0aW9uIGRyb3BzIHRvIDIwLTMwJSB3aXRob3V0IGFkZHJlc3NpbmcnLFxuICAgICAgICAgIGNvc3RSYW5nZTogJyQ1MEstJDIwMEsnLFxuICAgICAgICAgIHRpbWVsaW5lOiAnNi0xMiBtb250aHMnLFxuICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRpbS5zY29yZSA8IDUwKSB7XG4gICAgICBpZiAoZGltLmRpbWVuc2lvbiA9PT0gJ0dvdmVybmFuY2UgJiBSZXNwb25zaWJsZSBBSScpIHtcbiAgICAgICAgYmxvY2tlcnMucHVzaCh7XG4gICAgICAgICAgZGltZW5zaW9uOiBkaW0uZGltZW5zaW9uLFxuICAgICAgICAgIGlzc3VlOiAnTm8gQUkgZ292ZXJuYW5jZSBmcmFtZXdvcmsnLFxuICAgICAgICAgIGltcGFjdDogJ09ubHkgNDMlIGhhdmUgZ292ZXJuYW5jZSBwb2xpY3knLFxuICAgICAgICAgIGNvc3RSYW5nZTogJyQ1MEstJDIwMEsnLFxuICAgICAgICAgIHRpbWVsaW5lOiAnMi0zIG1vbnRocycsXG4gICAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBibG9ja2Vycy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgcHJpb3JpdHlPcmRlciA9IHsgaGlnaDogMCwgbWVkaXVtOiAxLCBsb3c6IDIgfTtcbiAgICByZXR1cm4gcHJpb3JpdHlPcmRlclthLnByaW9yaXR5XSAtIHByaW9yaXR5T3JkZXJbYi5wcmlvcml0eV07XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMoXG4gIG92ZXJhbGxTY29yZTogbnVtYmVyLFxuICBkaW1lbnNpb25TY29yZXM6IERpbWVuc2lvblNjb3JlW11cbik6IFJlY29tbWVuZGF0aW9uW10ge1xuICBjb25zdCByZWNvbW1lbmRhdGlvbnM6IFJlY29tbWVuZGF0aW9uW10gPSBbXTtcblxuICBpZiAob3ZlcmFsbFNjb3JlIDwgNDApIHtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICBwaGFzZTogJ1BoYXNlIDE6IEZvdW5kYXRpb24nLFxuICAgICAgdGl0bGU6ICdFc3RhYmxpc2ggQUkgU3RyYXRlZ3kgYW5kIEdvdmVybmFuY2UnLFxuICAgICAgZGVzY3JpcHRpb246ICdCdWlsZCBmb3VuZGF0aW9uYWwgc3RyYXRlZ3ksIGFzc2lnbiBleGVjdXRpdmUgc3BvbnNvciwgYW5kIGNyZWF0ZSBnb3Zlcm5hbmNlIGZyYW1ld29yay4nLFxuICAgICAgYWN0aW9uczogW1xuICAgICAgICAnRGV2ZWxvcCBhbmQgZG9jdW1lbnQgQUkgc3RyYXRlZ3kgd2l0aCBjbGVhciBLUElzJyxcbiAgICAgICAgJ0FwcG9pbnQgQy1zdWl0ZSBBSSBzcG9uc29yJyxcbiAgICAgICAgJ0NyZWF0ZSBkYXRhIGdvdmVybmFuY2UgZnJhbWV3b3JrIHdpdGggb3duZXJzaGlwJyxcbiAgICAgICAgJ0VzdGFibGlzaCByZXNwb25zaWJsZSBBSSBwb2xpY2llcycsXG4gICAgICBdLFxuICAgICAgdGltZWZyYW1lOiAnMi0zIG1vbnRocycsXG4gICAgfSk7XG5cbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICBwaGFzZTogJ1BoYXNlIDI6IERhdGEgUmVhZGluZXNzJyxcbiAgICAgIHRpdGxlOiAnSW1wcm92ZSBEYXRhIFF1YWxpdHkgYW5kIEFjY2Vzc2liaWxpdHknLFxuICAgICAgZGVzY3JpcHRpb246ICdDZW50cmFsaXplIGRhdGEsIGltcHJvdmUgcXVhbGl0eSBtb25pdG9yaW5nLCBhbmQgY2F0YWxvZyBkYXRhIGFzc2V0cy4nLFxuICAgICAgYWN0aW9uczogW1xuICAgICAgICAnSW1wbGVtZW50IGRhdGEgY2F0YWxvZyBhbmQgbWV0YWRhdGEgbWFuYWdlbWVudCcsXG4gICAgICAgICdEZXBsb3kgYXV0b21hdGVkIGRhdGEgcXVhbGl0eSBtb25pdG9yaW5nJyxcbiAgICAgICAgJ0NyZWF0ZSBkYXRhIHdhcmVob3VzZS9sYWtlaG91c2UgZm9yIGNlbnRyYWxpemVkIGFjY2VzcycsXG4gICAgICAgICdFc3RhYmxpc2ggZGF0YSBvd25lcnNoaXAgYW5kIHN0ZXdhcmRzaGlwJyxcbiAgICAgIF0sXG4gICAgICB0aW1lZnJhbWU6ICczLTYgbW9udGhzJyxcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvdmVyYWxsU2NvcmUgPCA2MCkge1xuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKHtcbiAgICAgIHBoYXNlOiAnUGhhc2UgMTogQWNjZWxlcmF0aW9uJyxcbiAgICAgIHRpdGxlOiAnQ2xvc2UgUmVhZGluZXNzIEdhcHMnLFxuICAgICAgZGVzY3JpcHRpb246ICdBZGRyZXNzIHNwZWNpZmljIGJsb2NrZXJzIGFuZCBhY2NlbGVyYXRlIEFJIGFkb3B0aW9uLicsXG4gICAgICBhY3Rpb25zOiBbXG4gICAgICAgICdQcmlvcml0aXplIGFuZCBmaXggaGlnaGVzdC1pbXBhY3QgYmxvY2tlcnMnLFxuICAgICAgICAnQnVpbGQgZmlyc3QgcHJvZHVjdGlvbiB1c2UgY2FzZScsXG4gICAgICAgICdEZXBsb3kgY2hhbmdlIG1hbmFnZW1lbnQgcHJvZ3JhbScsXG4gICAgICAgICdVcHNraWxsIHRlYW1zIHdpdGggQUkgbGl0ZXJhY3kgdHJhaW5pbmcnLFxuICAgICAgXSxcbiAgICAgIHRpbWVmcmFtZTogJzMtNiBtb250aHMnLFxuICAgIH0pO1xuXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goe1xuICAgICAgcGhhc2U6ICdQaGFzZSAyOiBTY2FsZScsXG4gICAgICB0aXRsZTogJ0RlcGxveSBBZGRpdGlvbmFsIFVzZSBDYXNlcycsXG4gICAgICBkZXNjcmlwdGlvbjogJ0V4cGFuZCBmcm9tIDEtMiB1c2UgY2FzZXMgdG8gNS0xMCBhY3Jvc3MgdGhlIG9yZ2FuaXphdGlvbi4nLFxuICAgICAgYWN0aW9uczogW1xuICAgICAgICAnSWRlbnRpZnkgYW5kIHByaW9yaXRpemUgbmV4dCAyLTMgdXNlIGNhc2VzJyxcbiAgICAgICAgJ0J1aWxkIHJldXNhYmxlIEFJIGNvbXBvbmVudHMnLFxuICAgICAgICAnQ3JlYXRlIGludGVybmFsIEFJIGNoYW1waW9uIHByb2dyYW0nLFxuICAgICAgICAnRXN0YWJsaXNoIE1MT3BzIGZvciBwcm9kdWN0aW9uIGRlcGxveW1lbnQnLFxuICAgICAgXSxcbiAgICAgIHRpbWVmcmFtZTogJzYtMTIgbW9udGhzJyxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCh7XG4gICAgICBwaGFzZTogJ1BoYXNlIDE6IFNjYWxlJyxcbiAgICAgIHRpdGxlOiAnRW50ZXJwcmlzZSBBSSBUcmFuc2Zvcm1hdGlvbicsXG4gICAgICBkZXNjcmlwdGlvbjogJ1NjYWxlIGZyb20gMy01IHVzZSBjYXNlcyB0byAxMCsgYWNyb3NzIGRlcGFydG1lbnRzLicsXG4gICAgICBhY3Rpb25zOiBbXG4gICAgICAgICdEZXZlbG9wIEFJIGNlbnRlciBvZiBleGNlbGxlbmNlJyxcbiAgICAgICAgJ0NyZWF0ZSBjcm9zcy1mdW5jdGlvbmFsIEFJIGdvdmVybmFuY2UgY291bmNpbCcsXG4gICAgICAgICdCdWlsZCBBSSBwbGF0Zm9ybSBzdHJhdGVneSBhbmQgYXJjaGl0ZWN0dXJlJyxcbiAgICAgICAgJ0RlcGxveSBvcmdhbml6YXRpb24td2lkZSBjaGFuZ2UgbWFuYWdlbWVudCcsXG4gICAgICBdLFxuICAgICAgdGltZWZyYW1lOiAnNi0xMiBtb250aHMnLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucztcbn1cbiJdLCJuYW1lcyI6WyJBUkNIRVRZUEVTIiwiQXBleEludGVncmF0b3IiLCJuYW1lIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImhvb2siLCJjb2xvciIsIlZpc2lvbmFyeUFyY2hpdGVjdCIsIlRhY3RpY2FsUG93ZXJob3VzZSIsIkNhbGN1bGF0ZWRTY291dCIsImNhbGN1bGF0ZURpbWVuc2lvblNjb3JlIiwiYW5zd2VycyIsInF1ZXN0aW9uSWRzIiwiZGltZW5zaW9uQW5zd2VycyIsIm1hcCIsImlkIiwidmFsaWRBbnN3ZXJzIiwiZmlsdGVyIiwiYSIsInVuZGVmaW5lZCIsImxlbmd0aCIsInN1bSIsInJlZHVjZSIsImFjYyIsInZhbCIsIk1hdGgiLCJyb3VuZCIsImNhbGN1bGF0ZUF4aXNTY29yZXMiLCJkaW1lbnNpb25TY29yZXMiLCJzY29yZXMiLCJkaW0iLCJkaW1lbnNpb24iLCJzY29yZSIsInZpc2lvblNjb3JlIiwib3BzU2NvcmUiLCJ2aXNpb24iLCJvcHMiLCJkZXRlcm1pbmVBcmNoZXR5cGUiLCJheGlzU2NvcmVzIiwiVEhSRVNIT0xEIiwiY2FsY3VsYXRlT3ZlcmFsbFNjb3JlIiwid2VpZ2h0ZWRTdW0iLCJ3ZWlnaHQiLCJnZXRSZWFkaW5lc3NMZXZlbCIsImxldmVsIiwidGltZWxpbmUiLCJzdWNjZXNzUmF0ZSIsImlkZW50aWZ5QmxvY2tlcnMiLCJibG9ja2VycyIsImZvckVhY2giLCJwdXNoIiwiaXNzdWUiLCJpbXBhY3QiLCJjb3N0UmFuZ2UiLCJwcmlvcml0eSIsInNvcnQiLCJiIiwicHJpb3JpdHlPcmRlciIsImhpZ2giLCJtZWRpdW0iLCJsb3ciLCJnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyIsIm92ZXJhbGxTY29yZSIsInJlY29tbWVuZGF0aW9ucyIsInBoYXNlIiwiYWN0aW9ucyIsInRpbWVmcmFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/scoring.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAssessment: () => (/* binding */ getAssessment),\n/* harmony export */   markLeadConverted: () => (/* binding */ markLeadConverted),\n/* harmony export */   saveAssessment: () => (/* binding */ saveAssessment),\n/* harmony export */   saveLead: () => (/* binding */ saveLead)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\nconst supabaseUrl = \"https://cygqpklutinjgjstxvfn.supabase.co\" || 0;\nconst supabaseSecretKey = process.env.SUPABASE_SECRET_KEY || '';\nfunction getSupabaseClient() {\n    if (!supabaseUrl || !supabaseSecretKey) {\n        throw new Error('Missing Supabase configuration. Set NEXT_PUBLIC_SUPABASE_URL and SUPABASE_SECRET_KEY.');\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseSecretKey);\n}\nasync function saveAssessment(assessment) {\n    try {\n        const supabase = getSupabaseClient();\n        const { data, error } = await supabase.from('assessments').insert(assessment).select();\n        if (error) {\n            console.error('Error saving assessment:', error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n        return {\n            success: true,\n            data\n        };\n    } catch (err) {\n        console.error('Exception saving assessment:', err);\n        return {\n            success: false,\n            error: String(err)\n        };\n    }\n}\nasync function saveLead(lead) {\n    try {\n        const supabase = getSupabaseClient();\n        const { data, error } = await supabase.from('leads').upsert({\n            ...lead,\n            converted_to_assessment: false\n        }, {\n            onConflict: 'email'\n        }).select();\n        if (error) {\n            console.error('Error saving lead:', error);\n            return {\n                success: false,\n                error: error.message\n            };\n        }\n        return {\n            success: true,\n            data\n        };\n    } catch (err) {\n        console.error('Exception saving lead:', err);\n        return {\n            success: false,\n            error: String(err)\n        };\n    }\n}\nasync function markLeadConverted(email) {\n    try {\n        const supabase = getSupabaseClient();\n        const { error } = await supabase.from('leads').update({\n            converted_to_assessment: true\n        }).eq('email', email);\n        if (error) {\n            console.error('Error marking lead converted:', error);\n        }\n    } catch (err) {\n        console.error('Exception marking lead converted:', err);\n    }\n}\nasync function getAssessment(id) {\n    try {\n        const supabase = getSupabaseClient();\n        const { data, error } = await supabase.from('assessments').select('*').eq('id', id).single();\n        if (error) {\n            console.error('Error fetching assessment:', error);\n            return null;\n        }\n        return data;\n    } catch (err) {\n        console.error('Exception fetching assessment:', err);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBY0MsMENBQW9DLElBQUksQ0FBRTtBQUM5RCxNQUFNRyxvQkFBb0JILFFBQVFDLEdBQUcsQ0FBQ0csbUJBQW1CLElBQUk7QUFFN0QsU0FBU0M7SUFDUCxJQUFJLENBQUNOLGVBQWUsQ0FBQ0ksbUJBQW1CO1FBQ3RDLE1BQU0sSUFBSUcsTUFBTTtJQUNsQjtJQUVBLE9BQU9SLG1FQUFZQSxDQUFDQyxhQUFhSTtBQUNuQztBQW1CTyxlQUFlSSxlQUFlQyxVQUFpRDtJQUNwRixJQUFJO1FBQ0YsTUFBTUMsV0FBV0o7UUFDakIsTUFBTSxFQUFFSyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1GLFNBQzNCRyxJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDTCxZQUNQTSxNQUFNO1FBRVQsSUFBSUgsT0FBTztZQUNUSSxRQUFRSixLQUFLLENBQUMsNEJBQTRCQTtZQUMxQyxPQUFPO2dCQUFFSyxTQUFTO2dCQUFPTCxPQUFPQSxNQUFNTSxPQUFPO1lBQUM7UUFDaEQ7UUFFQSxPQUFPO1lBQUVELFNBQVM7WUFBTU47UUFBSztJQUMvQixFQUFFLE9BQU9RLEtBQUs7UUFDWkgsUUFBUUosS0FBSyxDQUFDLGdDQUFnQ087UUFDOUMsT0FBTztZQUFFRixTQUFTO1lBQU9MLE9BQU9RLE9BQU9EO1FBQUs7SUFDOUM7QUFDRjtBQWFPLGVBQWVFLFNBQVNDLElBQWlFO0lBQzlGLElBQUk7UUFDRixNQUFNWixXQUFXSjtRQUNqQixNQUFNLEVBQUVLLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTUYsU0FDM0JHLElBQUksQ0FBQyxTQUNMVSxNQUFNLENBQ0w7WUFBRSxHQUFHRCxJQUFJO1lBQUVFLHlCQUF5QjtRQUFNLEdBQzFDO1lBQUVDLFlBQVk7UUFBUSxHQUV2QlYsTUFBTTtRQUVULElBQUlILE9BQU87WUFDVEksUUFBUUosS0FBSyxDQUFDLHNCQUFzQkE7WUFDcEMsT0FBTztnQkFBRUssU0FBUztnQkFBT0wsT0FBT0EsTUFBTU0sT0FBTztZQUFDO1FBQ2hEO1FBRUEsT0FBTztZQUFFRCxTQUFTO1lBQU1OO1FBQUs7SUFDL0IsRUFBRSxPQUFPUSxLQUFLO1FBQ1pILFFBQVFKLEtBQUssQ0FBQywwQkFBMEJPO1FBQ3hDLE9BQU87WUFBRUYsU0FBUztZQUFPTCxPQUFPUSxPQUFPRDtRQUFLO0lBQzlDO0FBQ0Y7QUFFTyxlQUFlTyxrQkFBa0JDLEtBQWE7SUFDbkQsSUFBSTtRQUNGLE1BQU1qQixXQUFXSjtRQUNqQixNQUFNLEVBQUVNLEtBQUssRUFBRSxHQUFHLE1BQU1GLFNBQ3JCRyxJQUFJLENBQUMsU0FDTGUsTUFBTSxDQUFDO1lBQUVKLHlCQUF5QjtRQUFLLEdBQ3ZDSyxFQUFFLENBQUMsU0FBU0Y7UUFFZixJQUFJZixPQUFPO1lBQ1RJLFFBQVFKLEtBQUssQ0FBQyxpQ0FBaUNBO1FBQ2pEO0lBQ0YsRUFBRSxPQUFPTyxLQUFLO1FBQ1pILFFBQVFKLEtBQUssQ0FBQyxxQ0FBcUNPO0lBQ3JEO0FBQ0Y7QUFFTyxlQUFlVyxjQUFjQyxFQUFVO0lBQzVDLElBQUk7UUFDRixNQUFNckIsV0FBV0o7UUFDakIsTUFBTSxFQUFFSyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1GLFNBQzNCRyxJQUFJLENBQUMsZUFDTEUsTUFBTSxDQUFDLEtBQ1BjLEVBQUUsQ0FBQyxNQUFNRSxJQUNUQyxNQUFNO1FBRVQsSUFBSXBCLE9BQU87WUFDVEksUUFBUUosS0FBSyxDQUFDLDhCQUE4QkE7WUFDNUMsT0FBTztRQUNUO1FBRUEsT0FBT0Q7SUFDVCxFQUFFLE9BQU9RLEtBQUs7UUFDWkgsUUFBUUosS0FBSyxDQUFDLGtDQUFrQ087UUFDaEQsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9pYW1qb2huZGFzcy9TaXRlcy9qb2huLWVsbGlzb24uY29tL2xpYi9zdXBhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAnJztcbmNvbnN0IHN1cGFiYXNlU2VjcmV0S2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VDUkVUX0tFWSB8fCAnJztcblxuZnVuY3Rpb24gZ2V0U3VwYWJhc2VDbGllbnQoKSB7XG4gIGlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlU2VjcmV0S2V5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGNvbmZpZ3VyYXRpb24uIFNldCBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIFNVUEFCQVNFX1NFQ1JFVF9LRVkuJyk7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlY3JldEtleSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzZXNzbWVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgY29tcGFueV9uYW1lOiBzdHJpbmc7XG4gIHdlYnNpdGU6IHN0cmluZztcbiAgbGlua2VkaW46IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgZGltZW5zaW9uX3Njb3JlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgb3ZlcmFsbF9zY29yZTogbnVtYmVyO1xuICByZWFkaW5lc3NfbGV2ZWw6IHN0cmluZztcbiAgYmxvY2tlcnM6IGFueVtdO1xuICByZWNvbW1lbmRhdGlvbnM6IGFueVtdO1xuICBjb21wYW55X2luc2lnaHRzPzogYW55O1xuICBhcmNoZXR5cGU/OiBhbnk7IC8vIE5ldyBmaWVsZFxuICBheGlzX3Njb3Jlcz86IGFueTsgLy8gTmV3IGZpZWxkXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlQXNzZXNzbWVudChhc3Nlc3NtZW50OiBPbWl0PEFzc2Vzc21lbnQsICdpZCcgfCAnY3JlYXRlZF9hdCc+KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYXNzZXNzbWVudHMnKVxuICAgICAgLmluc2VydChhc3Nlc3NtZW50KVxuICAgICAgLnNlbGVjdCgpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYXNzZXNzbWVudDonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0V4Y2VwdGlvbiBzYXZpbmcgYXNzZXNzbWVudDonLCBlcnIpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogU3RyaW5nKGVycikgfTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExlYWQge1xuICBpZDogc3RyaW5nO1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIGNvbXBhbnlfbmFtZTogc3RyaW5nO1xuICB3ZWJzaXRlOiBzdHJpbmc7XG4gIGxpbmtlZGluPzogc3RyaW5nO1xuICBjb21wYW55X2luc2lnaHRzPzogYW55O1xuICBjb252ZXJ0ZWRfdG9fYXNzZXNzbWVudDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVMZWFkKGxlYWQ6IE9taXQ8TGVhZCwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICdjb252ZXJ0ZWRfdG9fYXNzZXNzbWVudCc+KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnbGVhZHMnKVxuICAgICAgLnVwc2VydChcbiAgICAgICAgeyAuLi5sZWFkLCBjb252ZXJ0ZWRfdG9fYXNzZXNzbWVudDogZmFsc2UgfSxcbiAgICAgICAgeyBvbkNvbmZsaWN0OiAnZW1haWwnIH1cbiAgICAgIClcbiAgICAgIC5zZWxlY3QoKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGxlYWQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFeGNlcHRpb24gc2F2aW5nIGxlYWQ6JywgZXJyKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFN0cmluZyhlcnIpIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtMZWFkQ29udmVydGVkKGVtYWlsOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdsZWFkcycpXG4gICAgICAudXBkYXRlKHsgY29udmVydGVkX3RvX2Fzc2Vzc21lbnQ6IHRydWUgfSlcbiAgICAgIC5lcSgnZW1haWwnLCBlbWFpbCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1hcmtpbmcgbGVhZCBjb252ZXJ0ZWQ6JywgZXJyb3IpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignRXhjZXB0aW9uIG1hcmtpbmcgbGVhZCBjb252ZXJ0ZWQ6JywgZXJyKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXNzZXNzbWVudChpZDogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYXNzZXNzbWVudHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFzc2Vzc21lbnQ6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0V4Y2VwdGlvbiBmZXRjaGluZyBhc3Nlc3NtZW50OicsIGVycik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZVNlY3JldEtleSIsIlNVUEFCQVNFX1NFQ1JFVF9LRVkiLCJnZXRTdXBhYmFzZUNsaWVudCIsIkVycm9yIiwic2F2ZUFzc2Vzc21lbnQiLCJhc3Nlc3NtZW50Iiwic3VwYWJhc2UiLCJkYXRhIiwiZXJyb3IiLCJmcm9tIiwiaW5zZXJ0Iiwic2VsZWN0IiwiY29uc29sZSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZXJyIiwiU3RyaW5nIiwic2F2ZUxlYWQiLCJsZWFkIiwidXBzZXJ0IiwiY29udmVydGVkX3RvX2Fzc2Vzc21lbnQiLCJvbkNvbmZsaWN0IiwibWFya0xlYWRDb252ZXJ0ZWQiLCJlbWFpbCIsInVwZGF0ZSIsImVxIiwiZ2V0QXNzZXNzbWVudCIsImlkIiwic2luZ2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fassessments%2Froute&page=%2Fapi%2Fassessments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassessments%2Froute.ts&appDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fassessments%2Froute&page=%2Fapi%2Fassessments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassessments%2Froute.ts&appDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/app-render/manifests-singleton */ \"(rsc)/./node_modules/next/dist/server/app-render/manifests-singleton.js\");\n/* harmony import */ var next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _Users_iamjohndass_Sites_john_ellison_com_app_api_assessments_route_ts__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./app/api/assessments/route.ts */ \"(rsc)/./app/api/assessments/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/assessments/route\",\n        pathname: \"/api/assessments\",\n        filename: \"route\",\n        bundlePath: \"app/api/assessments/route\"\n    },\n    distDir: \".next/dev\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/Users/iamjohndass/Sites/john-ellison.com/app/api/assessments/route.ts\",\n    nextConfigOutput,\n    userland: _Users_iamjohndass_Sites_john_ellison_com_app_api_assessments_route_ts__WEBPACK_IMPORTED_MODULE_17__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.addRequestMeta)(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/assessments/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_6__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        (0,next_dist_server_app_render_manifests_singleton__WEBPACK_IMPORTED_MODULE_5__.setManifestsSingleton)({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext, silenceLog)=>routeModule.onRequestError(req, error, errorContext, silenceLog, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_7__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_8__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean( false || (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        const silenceLog = false;\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_10__.getRevalidateReason)({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, silenceLog, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_16__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_12__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_14__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_13__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__.sendResponse)(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_9__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_15__.NoFallbackError)) {\n            const silenceLog = false;\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_10__.getRevalidateReason)({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            }, silenceLog, routerServerContext);\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_11__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhc3Nlc3NtZW50cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYXNzZXNzbWVudHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhc3Nlc3NtZW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmlhbWpvaG5kYXNzJTJGU2l0ZXMlMkZqb2huLWVsbGlzb24uY29tJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmlhbWpvaG5kYXNzJTJGU2l0ZXMlMkZqb2huLWVsbGlzb24uY29tJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPSZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QmaXNHbG9iYWxOb3RGb3VuZEVuYWJsZWQ9ISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ0U7QUFDUDtBQUNnQjtBQUNUO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUNpQztBQUNuRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhLFdBQW9DLElBQUksQ0FBRTtBQUN2RCx3QkFBd0IsTUFBdUM7QUFDL0Q7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7QUFDbkY7QUFDUDtBQUNBLFFBQVEsNkVBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsS0FBcUIsRUFBRSxFQUUxQixDQUFDO0FBQ047QUFDQTtBQUNBO0FBQ0EsK0JBQStCLEtBQXdDO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtNQUErTTtBQUMzTiw4QkFBOEIsNkZBQWdCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZGQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzR0FBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxtQkFBbUIsNEVBQVM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLDhCQUE4Qiw2RUFBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRFQUFlO0FBQzNDLDRCQUE0Qiw2RUFBZ0I7QUFDNUMsb0JBQW9CLHlHQUFrQixrQ0FBa0MsaUhBQXNCO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0ZBQWM7QUFDL0UsK0RBQStELHlDQUF5QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRLEVBQUUsTUFBTTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGtCQUFrQjtBQUNsQix1Q0FBdUMsUUFBUSxFQUFFLFFBQVE7QUFDekQ7QUFDQSxhQUFhO0FBQ2I7QUFDQSxzQ0FBc0MsTUFBd0IsSUFBSSw2RUFBYztBQUNoRjtBQUNBO0FBQ0EsK0NBQStDLG9CQUFvQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxzRkFBeUI7QUFDakU7QUFDQSxvQ0FBb0MsNEVBQXNCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0pBQXNKLG9FQUFjO0FBQ3BLLDBJQUEwSSxvRUFBYztBQUN4SjtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsNkVBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLDhCQUE4Qiw2RUFBWTtBQUMxQztBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsNEZBQW1CO0FBQ2pFO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsa0VBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFJQUFxSSw2RUFBZTtBQUNwSjtBQUNBLDJHQUEyRyxpSEFBaUg7QUFDNU47QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0ZBQTJCO0FBQ3ZEO0FBQ0EsK0JBQStCLDRFQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QywwRkFBcUI7QUFDbEU7QUFDQSxrQkFBa0IsNkVBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTiw2QkFBNkIsNkZBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw0RkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgYWRkUmVxdWVzdE1ldGEsIGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgc2V0TWFuaWZlc3RzU2luZ2xldG9uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBwLXJlbmRlci9tYW5pZmVzdHMtc2luZ2xldG9uXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL2lhbWpvaG5kYXNzL1NpdGVzL2pvaG4tZWxsaXNvbi5jb20vYXBwL2FwaS9hc3Nlc3NtZW50cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXNzZXNzbWVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hc3Nlc3NtZW50c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXNzZXNzbWVudHMvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2lhbWpvaG5kYXNzL1NpdGVzL2pvaG4tZWxsaXNvbi5jb20vYXBwL2FwaS9hc3Nlc3NtZW50cy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICBpZiAocm91dGVNb2R1bGUuaXNEZXYpIHtcbiAgICAgICAgYWRkUmVxdWVzdE1ldGEocmVxLCAnZGV2UmVxdWVzdFRpbWluZ0ludGVybmFsc0VuZCcsIHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpKTtcbiAgICB9XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvYXNzZXNzbWVudHMvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBwYXJzZWRVcmwsIGlzRHJhZnRNb2RlLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCwgaXNPbkRlbWFuZFJldmFsaWRhdGUsIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLCByZXNvbHZlZFBhdGhuYW1lLCBjbGllbnRSZWZlcmVuY2VNYW5pZmVzdCwgc2VydmVyQWN0aW9uc01hbmlmZXN0IH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRTcmNQYWdlID0gbm9ybWFsaXplQXBwUGF0aChzcmNQYWdlKTtcbiAgICBsZXQgaXNJc3IgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdIHx8IHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgY29uc3QgcmVuZGVyNDA0ID0gYXN5bmMgKCk9PntcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHJvdXRlLW1vZHVsZSBpdHNlbGYgaGFuZGxlIHJlbmRlcmluZyB0aGUgNDA0XG4gICAgICAgIGlmIChyb3V0ZXJTZXJ2ZXJDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiByb3V0ZXJTZXJ2ZXJDb250ZXh0LnJlbmRlcjQwNCkge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVyU2VydmVyQ29udGV4dC5yZW5kZXI0MDQocmVxLCByZXMsIHBhcnNlZFVybCwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyBwYWdlIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgaWYgKGlzSXNyICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjb25zdCBpc1ByZXJlbmRlcmVkID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgICAgICBjb25zdCBwcmVyZW5kZXJJbmZvID0gcHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV07XG4gICAgICAgIGlmIChwcmVyZW5kZXJJbmZvKSB7XG4gICAgICAgICAgICBpZiAocHJlcmVuZGVySW5mby5mYWxsYmFjayA9PT0gZmFsc2UgJiYgIWlzUHJlcmVuZGVyZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dENvbmZpZy5leHBlcmltZW50YWwuYWRhcHRlclBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlbmRlcjQwNCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm9GYWxsYmFja0Vycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGNhY2hlS2V5ID0gbnVsbDtcbiAgICBpZiAoaXNJc3IgJiYgIXJvdXRlTW9kdWxlLmlzRGV2ICYmICFpc0RyYWZ0TW9kZSkge1xuICAgICAgICBjYWNoZUtleSA9IHJlc29sdmVkUGF0aG5hbWU7XG4gICAgICAgIC8vIGVuc3VyZSAvaW5kZXggYW5kIC8gaXMgbm9ybWFsaXplZCB0byBvbmUga2V5XG4gICAgICAgIGNhY2hlS2V5ID0gY2FjaGVLZXkgPT09ICcvaW5kZXgnID8gJy8nIDogY2FjaGVLZXk7XG4gICAgfVxuICAgIGNvbnN0IHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlID0gLy8gSWYgd2UncmUgaW4gZGV2ZWxvcG1lbnQsIHdlIGFsd2F5cyBzdXBwb3J0IGR5bmFtaWMgSFRNTFxuICAgIHJvdXRlTW9kdWxlLmlzRGV2ID09PSB0cnVlIHx8IC8vIElmIHRoaXMgaXMgbm90IFNTRyBvciBkb2VzIG5vdCBoYXZlIHN0YXRpYyBwYXRocywgdGhlbiBpdCBzdXBwb3J0c1xuICAgIC8vIGR5bmFtaWMgSFRNTC5cbiAgICAhaXNJc3I7XG4gICAgLy8gVGhpcyBpcyBhIHJldmFsaWRhdGlvbiByZXF1ZXN0IGlmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpY1xuICAgIC8vIHBhZ2UgYW5kIGl0IGlzIG5vdCBiZWluZyByZXN1bWVkIGZyb20gYSBwb3N0cG9uZWQgcmVuZGVyIGFuZFxuICAgIC8vIGl0IGlzIG5vdCBhIGR5bmFtaWMgUlNDIHJlcXVlc3QgdGhlbiBpdCBpcyBhIHJldmFsaWRhdGlvblxuICAgIC8vIHJlcXVlc3QuXG4gICAgY29uc3QgaXNTdGF0aWNHZW5lcmF0aW9uID0gaXNJc3IgJiYgIXN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlO1xuICAgIC8vIEJlZm9yZSByZW5kZXJpbmcgKHdoaWNoIGluaXRpYWxpemVzIGNvbXBvbmVudCB0cmVlIG1vZHVsZXMpLCB3ZSBoYXZlIHRvXG4gICAgLy8gc2V0IHRoZSByZWZlcmVuY2UgbWFuaWZlc3RzIHRvIG91ciBnbG9iYWwgc3RvcmUgc28gU2VydmVyIEFjdGlvbidzXG4gICAgLy8gZW5jcnlwdGlvbiB1dGlsIGNhbiBhY2Nlc3MgdG8gdGhlbSBhdCB0aGUgdG9wIGxldmVsIG9mIHRoZSBwYWdlIG1vZHVsZS5cbiAgICBpZiAoc2VydmVyQWN0aW9uc01hbmlmZXN0ICYmIGNsaWVudFJlZmVyZW5jZU1hbmlmZXN0KSB7XG4gICAgICAgIHNldE1hbmlmZXN0c1NpbmdsZXRvbih7XG4gICAgICAgICAgICBwYWdlOiBzcmNQYWdlLFxuICAgICAgICAgICAgY2xpZW50UmVmZXJlbmNlTWFuaWZlc3QsXG4gICAgICAgICAgICBzZXJ2ZXJBY3Rpb25zTWFuaWZlc3RcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICByZW5kZXJPcHRzOiB7XG4gICAgICAgICAgICBleHBlcmltZW50YWw6IHtcbiAgICAgICAgICAgICAgICBhdXRoSW50ZXJydXB0czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5hdXRoSW50ZXJydXB0cylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWNoZUNvbXBvbmVudHM6IEJvb2xlYW4obmV4dENvbmZpZy5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogbmV4dENvbmZpZy5jYWNoZUxpZmUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0LCBzaWxlbmNlTG9nKT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCBzaWxlbmNlTG9nLCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtzcmNQYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpc01pbmltYWxNb2RlID0gQm9vbGVhbihwcm9jZXNzLmVudi5NSU5JTUFMX01PREUgfHwgZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTWluaW1hbE1vZGUgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaWxlbmNlTG9nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N0YXRpY0dlbmVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHNpbGVuY2VMb2csIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgICAgICBpc01pbmltYWxNb2RlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IGNyZWF0ZSBhIGNhY2hlRW50cnkgZm9yIElTUlxuICAgICAgICAgICAgaWYgKCFpc0lzcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUua2luZCkgIT09IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NhY2hlRW50cnlfdmFsdWUxO1xuICAgICAgICAgICAgICAgIHRocm93IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXcgRXJyb3IoYEludmFyaWFudDogYXBwLXJvdXRlIHJlY2VpdmVkIGludmFsaWQgY2FjaGUgZW50cnkgJHtjYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiAoX2NhY2hlRW50cnlfdmFsdWUxID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlMS5raW5kfWApLCBcIl9fTkVYVF9FUlJPUl9DT0RFXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRTcwMVwiLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzTWluaW1hbE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCd4LW5leHRqcy1jYWNoZScsIGlzT25EZW1hbmRSZXZhbGlkYXRlID8gJ1JFVkFMSURBVEVEJyA6IGNhY2hlRW50cnkuaXNNaXNzID8gJ01JU1MnIDogY2FjaGVFbnRyeS5pc1N0YWxlID8gJ1NUQUxFJyA6ICdISVQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYWZ0IG1vZGUgc2hvdWxkIG5ldmVyIGJlIGNhY2hlZFxuICAgICAgICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwcml2YXRlLCBuby1jYWNoZSwgbm8tc3RvcmUsIG1heC1hZ2U9MCwgbXVzdC1yZXZhbGlkYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKGNhY2hlRW50cnkudmFsdWUuaGVhZGVycyk7XG4gICAgICAgICAgICBpZiAoIShpc01pbmltYWxNb2RlICYmIGlzSXNyKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuZGVsZXRlKE5FWFRfQ0FDSEVfVEFHU19IRUFERVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgY2FjaGUgY29udHJvbCBpcyBhbHJlYWR5IHNldCBvbiB0aGUgcmVzcG9uc2Ugd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIG92ZXJyaWRlIGl0IHRvIGFsbG93IHVzZXJzIHRvIGN1c3RvbWl6ZSBpdCB2aWEgbmV4dC5jb25maWdcbiAgICAgICAgICAgIGlmIChjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCAmJiAhcmVzLmdldEhlYWRlcignQ2FjaGUtQ29udHJvbCcpICYmICFoZWFkZXJzLmdldCgnQ2FjaGUtQ29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0NhY2hlLUNvbnRyb2wnLCBnZXRDYWNoZUNvbnRyb2xIZWFkZXIoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBBcmd1bWVudCBvZiB0eXBlICdCdWZmZXI8QXJyYXlCdWZmZXJMaWtlPicgaXMgbm90IGFzc2lnbmFibGUgdG8gcGFyYW1ldGVyIG9mIHR5cGUgJ0JvZHlJbml0IHwgbnVsbCB8IHVuZGVmaW5lZCcuXG4gICAgICAgICAgICBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3NyY1BhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICghKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpbGVuY2VMb2cgPSBmYWxzZTtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1N0YXRpY0dlbmVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIHNpbGVuY2VMb2csIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fassessments%2Froute&page=%2Fapi%2Fassessments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassessments%2Froute.ts&appDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js","vendor-chunks/svix","vendor-chunks/uuid","vendor-chunks/standardwebhooks","vendor-chunks/resend","vendor-chunks/fast-sha256","vendor-chunks/@stablelib"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fassessments%2Froute&page=%2Fapi%2Fassessments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fassessments%2Froute.ts&appDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fiamjohndass%2FSites%2Fjohn-ellison.com&isDev=true&tsconfigPath=&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();